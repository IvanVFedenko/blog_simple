(window.webpackJsonpblog_simple=window.webpackJsonpblog_simple||[]).push([[0],{51:function(e,t){e.exports="data:image/png;base64,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"},60:function(e,t,n){e.exports=n(93)},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(25),c=n(10),s=n(20),u=n.n(s),l=n(21),i=n(11),p=n(22),m=n(23),h=n(26),d=n(28),f=(n(69),n(35),n(107)),A=(n(70),n(53)),g=n.n(A),E=(n(71),function(e){var t=e.handlePageChange,n=e.page,a=e.total,o=e.perPage,c=Math.ceil(a/o);return r.a.createElement("div",{className:"pagination"},function(e,t,n){for(var a=[],o=0;o<n;o++)a.push(o);return a.map(function(n,a){return r.a.createElement("button",{key:a,onClick:function(){return e(n)},className:g()({pagination_button:!0,pagination_active:t===n})},n+1)})}(t,n,c))}),b=n(15),v=n(12),y=n.n(v),C=n(30),O=n(31),j=n(54),w=n(55),S=n(56),k=n.n(S),N="https://simple-blog-api.crew.red/posts",P=function(){var e=Object(C.a)(y.a.mark(function e(){var t,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(N);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(C.a)(y.a.mark(function e(t){var n,a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(N,"/").concat(t,"?_embed=comments"));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(n,!0).forEach(function(t){Object(b.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var D=function(){return function(){var e=Object(C.a)(y.a.mark(function e(t){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:n=e.sent,t({type:"SET_POSTS",value:n});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},J=function(e){return e.posts},q=function(e){return e.comments},Y=function(e){return e.isLoaded},B=function(e){return e.page},T=function(e){return e.perPage},I=Object(O.createStore)(function(e,t){switch(t.type){case"SET_POSTS":return M({},e,{posts:t.value.sort(function(e,t){return t.id-e.id})});case"SET_POST":return M({},e,{post:t.value});case"SET_COMMENTS":return M({},e,{comments:t.value.comments.sort(function(e,t){return t.id-e.id}),isLoaded:!0});case"HIDE_COMMENTS":return M({},e,{comments:[],isLoaded:!1});case"SET_CURRENT_PAGE":return M({},e,{page:t.value});default:return e}},{posts:[],post:[],page:0,perPage:5,comments:[],isLoaded:!1},Object(w.composeWithDevTools)(Object(O.applyMiddleware)(j.a))),H="https://simple-blog-api.crew.red/posts",K=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handlePageChange=function(e){n.props.setCurrentPage(e)},n.handleDelete=function(e){fetch(H+"/"+e,{method:"DELETE"}).then(function(){console.log("removed")}).catch(function(e){console.error(e)}).then(function(){return n.props.getPostThunkCreator()})},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getPostThunkCreator()}},{key:"render",value:function(){var e=this,t=this.props,n=t.posts,a=t.page,o=t.perPage,s=a*o,u=a*o+o;return r.a.createElement("div",{className:"post_list"},r.a.createElement("h1",null,"Post list"),r.a.createElement(f.a,null,r.a.createElement(c.c,{to:"/new_post"},"Add the new post")),n.slice(s,u).map(function(t){return r.a.createElement("div",{key:Math.random(),className:"post_item"},r.a.createElement(c.b,{to:"/posts/".concat(t.id),className:"post_item_link"},r.a.createElement("ul",{className:t.id?"":"del_buttom_disable"},r.a.createElement("li",{className:"postlist_heading"},"Title: ",r.a.createElement("b",null,t.title)),r.a.createElement("li",{className:"postlist_heading"},"Author: ",r.a.createElement("b",null,t.creator)),r.a.createElement("li",{className:"postlist_heading"},"Date: ",t.date))),r.a.createElement("button",{onClick:function(){e.handleDelete(t.id)},className:"destroy",disabled:!t.id}))}),n.length<6?"":r.a.createElement(E,{page:a,perPage:o,total:n.length,handlePageChange:this.handlePageChange}))}}]),t}(r.a.Component),W=Object(o.b)(function(e){return{posts:J(e),page:B(e),perPage:T(e)}},function(e){return{getPostThunkCreator:function(){return e(D())},setCurrentPage:function(t){return e(function(e){return{type:"SET_CURRENT_PAGE",value:e}}(t))}}})(K),Q=(n(91),n(108)),V=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={body:"",page:0,perPage:5},n.handlePageChange=function(e){n.setState({page:e})},n.handleChange=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value.replace(/[^ \w\u0430-\u044f\u0410-\u042f\u0406\u0456\u0407\u0457\u0401\u0451]/g,""))),n.handleSubmit=function(e){e.preventDefault();var t={postId:+n.props.postId,body:n.state.body};fetch("https://simple-blog-api.crew.red/comments/",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){return console.error("Error:",e)}).then(function(e){return console.log("Success:",e)}).then(function(){return n.props.getCommentsThunkCreator(n.props.postId)}),n.setState({body:""})}},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getPostThunkCreator(),this.props.getCommentsThunkCreator(this.props.postId)}},{key:"render",value:function(){var e=this.props,t=e.postId,a=e.posts,o=e.comments,s=a.find(function(e){return e.id===+t}),u=this.state,l=u.page,i=u.perPage,p=l*i,m=l*i+i;return r.a.createElement("div",{className:"post"},r.a.createElement("div",null,r.a.createElement(c.c,{to:"/posts"},r.a.createElement("img",{src:n(51),alt:"back_buttom",className:"back_buttom"}))),r.a.createElement("div",{className:"post_body"},s?s.body:""),r.a.createElement("div",{className:"comments_block"}," ",r.a.createElement("b",null,o.length>0?"Comments:":""," "),o.slice(p,m).map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("p",{className:"post_comment"},"- ",e.body))})),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(Q.a,{type:"body",name:"body",multiline:!0,rows:2,maxLength:"2",onChange:this.handleChange,placeholder:" Add new comment",value:this.state.body,className:"comment_input"}),r.a.createElement(f.a,{type:"submit"},"Add comment")),o.length<6?"":r.a.createElement(E,{page:l,perPage:i,total:o.length,handlePageChange:this.handlePageChange}))}}]),t}(r.a.Component),R=Object(o.b)(function(e){return{posts:J(e),comments:q(e),isLoaded:Y(e)}},function(e){return{hideComments:function(){return e({type:"HIDE_COMMENTS"})},getCommentsThunkCreator:function(t){return e((n=t,function(){var e=Object(C.a)(y.a.mark(function e(t){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(n);case 2:a=e.sent,t({type:"SET_COMMENTS",value:a});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));var n},setPostThunkCreator:function(){return e(function(){var e=Object(C.a)(y.a.mark(function e(n){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:a=e.sent,n({type:"SET_POST",value:a});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());var t},getPostThunkCreator:function(){return e(D())}}})(V),F=function(){return r.a.createElement("div",{className:"home"},r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.c,{to:"/posts"},r.a.createElement("h1",null,"Welcome to the simple blog"),r.a.createElement("h1",null,"(click to enter)"))))))},U=(n(92),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={post:[],title:"",body:"",creator:""},n.handleChange=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value.replace(/[^ \w\u0430-\u044f\u0410-\u042f\u0406\u0456\u0407\u0457\u0401\u0451]/g,"")))},n.handleSubmit=function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,r=e.getFullYear(),o={title:n.state.title,body:n.state.body,creator:n.state.creator,date:r+"-"+a+"-"+t};fetch("https://simple-blog-api.crew.red/posts",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){return console.error("Error:",e)}).then(function(e){return console.log("Success:",e)}).then(function(){return n.props.getPostThunkCreator()}),n.setState({title:"",body:"",creator:""})},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getPostThunkCreator()}},{key:"render",value:function(){var e=this,t=this.state,a=t.title,o=t.body,s=t.creator;return r.a.createElement("div",{className:"new_post"},r.a.createElement(c.c,{to:"/posts"},r.a.createElement("img",{src:n(51),alt:"back_buttom",className:"back_buttom"})),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit,className:"postlist_input_title"},r.a.createElement(Q.a,{className:"postlist_input_title",type:"title",name:"title",onChange:this.handleChange,placeholder:" Add title",value:a}))),r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement(Q.a,{className:"postlist_textarea",multiline:!0,type:"body",name:"body",onChange:this.handleChange,placeholder:" Add post",value:o}))),r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement(Q.a,{className:"postlist_input_author",type:"creator",name:"creator",placeholder:" Author",onChange:this.handleChange,value:s}))),r.a.createElement("div",null,r.a.createElement(f.a,{variant:"text",color:"default",onClick:function(){return e.handleSubmit()}},"Add post")))}}]),t}(r.a.Component)),X=Object(o.b)(function(e){return{posts:J(e)}},function(e){return{getPostThunkCreator:function(){return e(D())}}})(U),z=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d.a,{path:"/",exact:!0,component:F}),r.a.createElement(d.a,{path:"/posts",exact:!0,component:W}),r.a.createElement(d.a,{path:"/new_post",component:X}),r.a.createElement(d.a,{path:"/posts/:postId",render:function(e){var t=e.match;return r.a.createElement(R,{postId:t.params.postId})}}))}}]),t}(r.a.Component);u.a.render(r.a.createElement(o.a,{store:I},r.a.createElement(c.a,null,r.a.createElement(z,null))),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.23f33e9c.chunk.js.map